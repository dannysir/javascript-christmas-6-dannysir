# 4주차 - 크리스마스 크로모션

## 💡기능 요구사항 정리

---

### ✏️  날짜를 입력 받기
     🚨 예외처리
    - 숫자만 입력 받아야함
    - 1부터 31까지의 정수 숫자만 가능

### ✏️  메뉴 입력 받기
    🚨 예외처리
    - 메뉴에 있는 메뉴만 입력 받아야함
    - 갯수는 정수 숫자만 입력 받을 수 있음
    - 주문은 한번에 최대 20개까지 가능
    - 음료만 주문 불가능

### ✏️  이벤트
- **크리스마스 디데이 할인**
  - 25일까지만 진행
- **평일 할인**
  - 일요일 ~ 목요일
- **주말 할인**
  - 금요일, 토요일
- **특별 할인**
- **증정 이벤트**
  - 할인 전 금액이 12만원 이상일 때만 샴페인 1개 증정
- **배지 부여 이벤트**

### ✏️  이벤트 플래너 출력
- 주문 메뉴 목록 출력
- 할인 전 총 주문 금액 출력
- 증정 메뉴 출력
  - 증정 메뉴가 없을 경우 "없음" 출력
- 혜택 내역 출력
  - 여러 혜택을 받을 경우 순서 상관 없이 모두 출력
  - 혜택 내역이 없다면 "없음" 출력
- 총혜택 금액 출력
  - 총 혜택 금액은 증정품을 포함한 가격
- 할인 후 예상 결제 금액 출력
  - 총혜택 금액에서 증정품 가격을 뺀 금액을 할인 전 총 주문 금액에서 빼준다.
- 배지 출력
  - 아무것도 받지 못하는 경우 "없음" 출력

---
### 🚨주의 사항
- 총 주문 금액이 10,000원 이상부터 이벤트 적용
- 날짜 입력에 예외 처리 발생시 "[ERROR] 유효하지 않은 날짜입니다. 다시 입력해 주세요." 문구 출력
- 메뉴 입력 예외 처리 발생시  "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요." 문구 출력
- 모든 예외 처리 발생 후 해당 값을 다시 입력 받아야함
- 모든 에러 메시지는 "[ERROR]"로 시작
- 모든 금액은 "142,000원"과 같은 형식으로 출력
  - 천원 단위에 , 넣기
  - 마지막에 "원" 넣기

---

## 💡구현할 기능 목록

---

### ✅  날짜 입력

- 날짜를 입력 받아서 Date 클래스에 저장한다.
- Data 클래스 내부에서 validator 함수로 예외 처리
- Data 클래스 필드에 날짜와 관련된 데이터 저장
  - Data 클래스의 필드
    - 주말인지 T/F
    - 별이 있는지 T/F
    - 입력 받은 문자열 숫자인 날짜를 정수형으로 저장


- 일차원 배열 [메뉴, 갯수] 배열을 이용하여 해당 메뉴의 정보를 저장하는 OrderedMenu 클래스 생성
  - OrderedMenu 클래스의 필드
    - 음식 이름
    - 주문 갯수
    - 가격
    - 종류
  - OrderedMenu 클래스에서 예외 처리 진행
    - 메뉴에 있는 메뉴인지 확인
    - 주문 갯수가 정수인 숫자인지 확인
    - 1 미만의 숫자인지 확인

### ✅  주문 입력

- Order 클래스를 이용하여 주문을 split하여 2차원 배열의 형태로 필드에 저장
    - Order 클래스의 필드
        - 주문 내역
        - 할인 전 총주문 금액
  - Order 클래스에서 주문 입력을 받으면 클래스 내부의 validator함수로 예외 처리
    - OrderedMenu클래스의 정보를 이용하여 해당 음식의 종류와 이름을 Set객체에 add(), 음식의 갯수를 cnt 변수를 이용해 카운팅
      - 이름이 저장된 Set객체로 중복된 주문이 있는지 확인
      - 음식의 종류가 저장된 Set객체로 음료만 주문 했는지 확인
      - cnt 변수로 20개 이하의 주문이 들어왔는지 확인

### ✅  할인 내역 계산

- Order 클래스의 정보와 Date 클래스의 정보를 이용하여 Discount 클래스 생성
  - Discount 클래스의 필드
    - 할인 목록 배열 (예시 : [크리스마스, 주말, 평일, 특별, 증정])
      - constructor 에서 배열의 초기값 0으로 초기화
    - 총 혜택 금액
    - 할인 후 결제 금액
      - 할인 전 금액 - ( 총 혜택 금액 - 할인목록[증정] )
  - (Order의 getTotalPrice() 값이 기준치 이상일 경우만 할인 계산 함수 실행)
  - 크리스마스 할인 계산 함수
    - Date 클래스에서 getDay()를 이용하여 날짜를 입력 받는다
    - 25일 이하일때만 계산 진행, 값을 할인 목록 배열 [0]에 넣는다
  - 주말 / 평일 판별 함수
    - Date에서 getWeekend()를 이용하여 주말 할인인지 평일 할인인지 확인
    - 계산 함수에 주말 여부에 따라 음식 종류를 전달
    - 할인 금액을 배열에 알맞은 인덱스에 값 추가
  - 주말 / 평일 할인 계산 함수
    - Order 클래스의 getMenu()를 이용해 주문과, 전달 받은 음식 종류를 이용
    - 주문의 각 메뉴를 OrderedMenu 클래스를 이용해 전달 받음 음식의 종류와 해당 주문의 음식의 종류가 같은지 확인
    - 전달 받은 음식의 종류와 같은 주문의 갯수를 counting, 할인 금액을 return
  - 특별 할인 계산 함수
    - Date의 getIsStar()를 이용하여 할인 여부 확인
    - 할인 배열에 알맞은 위치에 할인 금액 추가
  - 증정 이벤트 확인 함수
    - Order의 getTotalPrice()를 이용해 해당 값이 기준치 이상인지 확인
    - 기준치 이상이면 할인 배열에 알맞은 위치에 증정품 가격 추가
  - 총 혜택 금액 계산 함수
    - 할인 목록 배열을 reduce()를 이용하여 총합을 찾는다
    - 해당 총합 값을 필드의 총 혜택 금액에 넣는다.
  - get 해택 내역
    - 할인 목록을 이용하여 해택 내역 문자열 생성 후 return
    - 문자열의 길이가 0이면 "없음" return
  - get 증정 메뉴
    - 할인 목록에서 해당 값이 0 이면 "없음" return
    - 해당 값이 0초과면 "샴페인 1개" return
  - get 총혜택 금액
    - 필드에 총 혜택 금액 return
  - get 할인 후 결제 금액
    - 필드에 할인 후 결제 금액 return
  - get 배지
    - 필드의 총 혜택 금액으로 판별하여 return
    - 만약 모든 조건에 충족하지 못하면 "없음" return